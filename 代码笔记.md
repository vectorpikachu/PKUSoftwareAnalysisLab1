# 软件分析技术 Lab1

## 项目结构

在`src/main/java/pku`目录下面有:
```text
PointerAnalysis
PointerAnalysisResult
PointerAnalysisTrivial
Preprocess
PreprocessResult
```
## PreprocessResult

```java
Map<New, Integer> obj_ids; // 一个New语句和变量id的对应
Map<Integer, Var> test_pts;
```

对于下面的语句:
```java
Benchmark.alloc(3);
B b = new B();
B d = new B();
Benchmark.test(7, d);
```

我们的`d`的分配到的结果是`3`. (根据`public void analysis(IR ir)`的实现可知)

## Preprocess

`Preprocess`会使用`PreprocessResult`的`analyze`方法.

## PointerAnalysisResult

返回指针分析的结果:
```text
{ [test_id] : point-to-set },
where point-to-set = { obj_id | test_id points-to obj_id }
```
当前这个`test_id`可以指向的所有变量. 这是一个may analysis.

## PointerAnalysisTrivial

`ProgramAnalysis<PointerAnalysisResult>`表示当前这个分析的结果将是`PointerAnalysisResult`.

## Steensgard指向分析算法

完成了一个最基础的版本.
